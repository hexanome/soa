title CU4

note over Agent,IHM,SM: Consultation de l'agenda DSCU7
Agent->IHM: choixVue()
note left of SM
    Voir DSCU7
end note
Agent->IHM: selectionContact(idContact)
alt action=consulter dossier client
note over Agent,IHM,SM:Consultation dossier Client DSCU10
else action=prendre RDV
Agent->IHM:prendreRDV(date,contactPrevu)
activate IHM
IHM->SM:setContact(date,contactPrevu)
activate SM
SM->Contact:updateContact(date,contactPrevu)
deactivate SM
deactivate IHM
else action=Annuler contact
Agent->IHM:annulerContact(idContact,raison)
activate IHM
IHM->SM:annulerContact(idContact,raison)
activate SM
SM->Contact:updateContact(etat,raison)
SM-->IHM:code retour
deactivate SM
IHM-->Agent:code retour
deactivate IHM
else action=regrouper contacts
Agent->IHM:regroupeContact(list<Contact>)
activate IHM
IHM->SM:regroupeContact(list<Contact>)
activate SM
SM->Contact: updateContact(motifContact)
loop pour chaque contact
SM->Contact: updateContact(etat=Annule,raison=regroupement)
end loop
SM-->IHM:code retour
deactivate SM
IHM-->Agent:code retour
deactivate IHM
end alt
