title CU5
note over ChefAgence,IHM: Consultation Agenda CU7
note left of ChefAgence:Pour tout le mois
ChefAgence->IHM:selectionPlageAgenda(date)
ChefAgence->IHM:planifiePlageAgenda(idAgent,typeActivite,date)
activateIHM
IHM->SM:planifiePlageAgenda(idAgent,typeActivite,date)
activateSM
SM->Agenda:créer plageAgenda(idAgent,typeActivite,date)
SM-->IHM:code retour
deactivate SM
IHM->IHM:udpateVue()
deactivate IHM
ChefAgence->IHM:terminerPlanification()
activate IHM
IHM->SM:terminerPlanification()
activate SM
loop pour toutes les plages Agenda de type Contact commercial
 SM->Agenda:calculContactPotentielAgenda(idAgenda)
activate Agenda
Agenda-->SM:nbContactPotentiel
deactivate Agenda
SM->Agenda:getIdAgent(idAgenda)
activate Agenda
Agenda-->SM:idAgent
deactivate Agenda
SM->Agences:addNbContactPotentiel(idAgent)
activate Agences
Agences-->SM:NbContactPotentielTotal
deactivate Agences
end loop

